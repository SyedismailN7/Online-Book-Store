{% extends "base.html" %}
{% block content %}

<!-- HERO -->
<div class="text-center mb-5">
    <h1 class="fw-bold text-light" style="font-size: 40px;">
        Discover Your Next Book 
    </h1>
    <p class="text-secondary" style="font-size: 18px;">
        Explore best sellers, new arrivals, and curated categories.
    </p>
</div>

<!-- BEST SELLERS -->
<h3 class="section-title-dark">Best Sellers</h3>
<div class="row g-4">
    {% for book in best_sellers %}
    <div class="col-md-3">
        <div class="book-card-dark">

            <!-- FIXED IMAGE CHECK -->
            <img src="{% if book.image and book.image.name %}{{ book.image.url }}{% else %}/static/img/no_image.png{% endif %}"
                 class="img-fluid rounded book-cover">

            <!-- ADDED TITLE (Was missing) -->
            <h5 class="book-title-dark">{{ book.title }}</h5>

            <p class="book-author-dark">{{ book.author }}</p>

            <a href="{% url 'book_detail' book.id %}" class="btn btn-outline-light w-100 mt-2">View</a>
            <a href="{% url 'add_to_cart' book.id %}" class="btn btn-light w-100 mt-2">Add to Cart</a>
        </div>
    </div>
    {% endfor %}
</div>

<!-- NEW ARRIVALS -->
<h3 class="section-title-dark mt-5">New Arrivals</h3>
<div class="row g-4">
    {% for book in new_arrivals %}
    <div class="col-md-3">
        <div class="book-card-dark">

            <!-- FIXED IMAGE CHECK -->
            <img src="{% if book.image and book.image.name %}{{ book.image.url }}{% else %}/static/img/no_image.png{% endif %}"
                 class="img-fluid rounded book-cover">

            <h5 class="book-title-dark">{{ book.title }}</h5>
            <p class="book-author-dark">{{ book.author }}</p>

            <a href="{% url 'book_detail' book.id %}" class="btn btn-outline-light w-100 mt-2">View</a>
            <a href="{% url 'add_to_cart' book.id %}" class="btn btn-light w-100 mt-2">Add to Cart</a>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}
